pico-8 cartridge // http://www.pico-8.com
version 27
__lua__

function _draw()
  cls()

  print("begin-8", 50, 0, 9)

  for j = 0, 5 do
    for i = 0, 15 do
      spr(starmap[j][i], i*8, 8+j*8)
    end
  end

  spr(ship.sprite, ship.x, ship.y)
  spr(enemy.sprite, enemy.x, enemy.y)

  line(0, 58, 128, 58, 13)
  print("power", 0, 60, 9)
  print("hull", 0, 80, 9)
  print("shld", 40, 60, 9)
  print("torp", 60, 60, 9)
  print("phsr", 90, 60, 9)
  print(ship.power, 10, 68, 11)
  print(ship.hull.."%", 10, 88, 11)

  for i = 1, #ship.shields do
    print(ship.shields[i].."%", 40, 68 + ((i-1) * 8), 11)
  end

  for i = 1, #ship.torps do
    print(ship.torps[i].type, 60, 68 + ((i-1) * 8), 11)
    print("ld", 75, 68 + ((i-1) * 8),
      ship.torps[i].loaded and 11 or 8)
  end

  for i = 1, #ship.phasers do
    print("chg", 90, 68 + ((i-1) * 8),
      ship.phasers[i].charged and 11 or 8)
    print("lck", 105, 68 + ((i-1) * 8),
      ship.phasers[i].locked and 11 or 8)
  end

end

ship = {
  sprite = 0,
  x = 50,
  y = 30,
  shields = {
    100, 100, 100, 100, 100, 100
  },
  power = 1000,
  hull = 100,
  torps = {
    {
      type = "mk7",
      loaded = true,
    },
    {
      type = "mk7",
      loaded = false,
    }
  },
  phasers = {
    {
      charged = true,
      locked = true,
    },
    {
      charged = true,
      locked = true,
    },
    {
      charged = true,
      locked = false,
    },
    {
      charged = false,
      locked = false,
    }
  }
}

enemy = {
  sprite=1,
  x=100,
  y=20
}

starmap = {}
for j = 0, 6 do
  starmap[j] = {}
  for i = 0, 15 do
    starmap[j][i] = 2+rnd(5)
  end
end

music(0)



__gfx__
003bb300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
03bbbb30000000000000005000050000000000000000000000500000000000000000000000000000000000000000000000000000000000000000000000000000
0bb88bb0088200000000000000000000000000000000050000000000000000000000000000000000000000000000000000000000000000000000000000000000
03bbbb30888888880000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
003bb300028288220000000000000000000000500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00bbbb00000088200000000000000000005000000500000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00b00b00000088000000000005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00b00b00000000000500000000000000000000000000000000000050000000000000000000000000000000000000000000000000000000000000000000000000
__map__
0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000008080000080800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000103000308000101010800000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000030101010301010108010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000030103010101080103000100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0001030303010101010101010100000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0001000808080303080303080000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0001000000000000030300000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000a002000650016000060000600006000060001600006003c6503d60034600326003060030600306002e60000650086000860008600086000960008600086003e65030600316003160031600316003160031600
000a002012050120501205012050120501205012050120501c0501c0501c0501c0501c0501c0501c0501c05018050180501805018050180501805018050180500f0500f0500f0500f0500f0500f0500f05010050
00060000352502f2502b2502925028250272502725028250292502925029250282502625023250202501b2501725013250112501125012250122501325014250142501425013250112500e2500b2500825004250
001700100e1500e1501a1501a1500e150181501a1500e1501b1501a1500e150181501a1500e150161501815018100181002310000100001000010000100001000010000100001000010000100001000010000100
__music__
00 01004344
00 02424344
03 03424344

